<!doctype html>
<!--[if lt IE 7]>
<html lang="en" class="no-js ie6"><![endif]-->
<!--[if IE 7]>
<html lang="en" class="no-js ie7"><![endif]-->
<!--[if IE 8]>
<html lang="en" class="no-js ie8"><![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->

<head>
    <meta charset="UTF-8">
    <title>2016 Mining and Quarrying (Gold ) PRODUCTION Data (OUTPUT IN TONS) | NG ATLAS - Nigeria Data Research Centre</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link rel="shortcut icon" href="favicon.png">

    <link rel="stylesheet" href="css/bootstrap.css">

    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="js/rs-plugin/css/settings.css">

    <script type="text/javascript" src="js/modernizr.custom.32033.js"></script>

    <link rel="stylesheet" href="css/eco.css">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

<div class="pre-loader">
	<div class="load-con">
		<img src="img/logo.png" class="animated fadeInDown" alt="">
		<div class="spinner">
			<div class="bounce1"></div>
			<div class="bounce2"></div>
			<div class="bounce3"></div>
		</div>
	</div>
</div>


<header>
	<nav class="navbar navbar-inverse navbar-fixed-top second" >
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target="#bs-example-navbar-collapse-1">
					<span class="fa fa-bars fa-lg"></span>
				</button>
				<a style="padding: 0;" class="navbar-brand" href="index.html">
					<img style="max-height: 61px" src="img/logo.png" alt="" class="logo img-responsive">
				</a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

				<ul class="nav navbar-nav navbar-right">
					<li><a href="mining.html">Solid Minerals</a>
					</li>
					<li><a href="petrol.html">Gas (Petrol / Diesel)</a>
					</li>
					<li><a href="#demo">Food </a>
					</li>
					<li><a href="#about">Power</a>
					</li>
					<li><a href="#support">Transportation</a>
					</li>
					<li><a href="#screens">Research Lab</a>
					</li>
					<li><a class="getApp" href="#getApp">Contact Us</a>
					</li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container-->
	</nav>
</header>

<div class="spacer"></div>
<div class="wrapper">

    <section id="features">
        <div class="container">
            <div class="section-heading scrollpoint sp-effect3 section-chart">
				<h2>2016 Mining and Quarrying (Solid Mineral) PRODUCTION Data <br> (OUTPUT IN TONS)</h2>
                <div class="divider"></div>
				<!--<p> Average.</p>-->
            </div>
            <div class="row">
                <div class="col-md-12 col-sm-12">
					<span style="position: absolute; "><select name="mineral" id="selectCity"></select></span>
					<svg font-family="sans-serif" font-size="10"
						 text-anchor="middle"></svg>
					<svg id="bar-chart"></svg>
                </div>
            </div>
        </div>
    </section>

    <section id="reviews">
        <div class="container">
            <div class="section-heading inverse scrollpoint sp-effect3">
                <h1>Reviews</h1>
                <div class="divider"></div>
                <p>Read What's The People Are Saying About Us</p>
            </div>
            <div class="row">
                <div class="col-md-10 col-md-push-1 scrollpoint sp-effect3">
                    <div class="review-filtering">
                        <div class="review">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="review-person">
                                        <img src="http://api.randomuser.me/portraits/women/94.jpg" alt=""
                                             class="img-responsive">
                                    </div>
                                </div>
                                <div class="col-md-10">
                                    <div class="review-comment">
                                        <h3>“I love Oleose, I highly recommend it, Everyone Try It Now”</h3>
                                        <p>
                                            - Krin Fox
                                            <span>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star-o fa-lg"></i>
                                                </span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="review rollitin">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="review-person">
                                        <img src="http://api.randomuser.me/portraits/men/70.jpg" alt=""
                                             class="img-responsive">
                                    </div>
                                </div>
                                <div class="col-md-10">
                                    <div class="review-comment">
                                        <h3>“Oleaose Is The Best Stable, Fast App I Have Ever Experienced”</h3>
                                        <p>
                                            - Theodore Willis
                                            <span>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star-half-o fa-lg"></i>
                                                    <i class="fa fa-star-o fa-lg"></i>
                                                </span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="review rollitin">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="review-person">
                                        <img src="http://api.randomuser.me/portraits/men/93.jpg" alt=""
                                             class="img-responsive">
                                    </div>
                                </div>
                                <div class="col-md-10">
                                    <div class="review-comment">
                                        <h3>“Keep It Up Guys Your Work Rules, Cheers :)”</h3>
                                        <p>
                                            - Ricky Grant
                                            <span>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star fa-lg"></i>
                                                    <i class="fa fa-star-half-o fa-lg"></i>
                                                    <i class="fa fa-star-o fa-lg"></i>
                                                </span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section hidden id="screens">
        <div class="container">

            <div class="section-heading scrollpoint sp-effect3">
                <h1>Screens</h1>
                <div class="divider"></div>
                <p>See what’s included in the App</p>
            </div>

            <div class="filter scrollpoint sp-effect3">
                <a href="javascript:void(0)" class="button js-filter-all active">All Screens</a>
                <a href="javascript:void(0)" class="button js-filter-one">User Access</a>
                <a href="javascript:void(0)" class="button js-filter-two">Social Network</a>
                <a href="javascript:void(0)" class="button js-filter-three">Media Players</a>
            </div>
            <div class="slider filtering scrollpoint sp-effect5">
                <div class="one">
                    <img src="img/eco/screens/profile.jpg" alt="">
                    <h4>Profile Page</h4>
                </div>
                <div class="two">
                    <img src="img/eco/screens/menu.jpg" alt="">
                    <h4>Toggel Menu</h4>
                </div>
                <div class="three">
                    <img src="img/eco/screens/weather.jpg" alt="">
                    <h4>Weather Forcast</h4>
                </div>
                <div class="one">
                    <img src="img/eco/screens/signup.jpg" alt="">
                    <h4>Sales Analysis</h4>
                </div>
                <div class="one">
                    <img src="img/eco/screens/calendar.jpg" alt="">
                    <h4>Event Calendar</h4>
                </div>
                <div class="two">
                    <img src="img/eco/screens/options.jpg" alt="">
                    <h4>Some Options</h4>
                </div>
                <div class="three">
                    <img src="img/eco/screens/sales.jpg" alt="">
                    <h4>Lorem ipsum dolor</h4>
                </div>
            </div>
        </div>
    </section>

    <section id="demo">
        <div class="container">
            <div class="section-heading scrollpoint sp-effect3">
                <h1>Video</h1>
                <div class="divider"></div>
                <p>Take a closer look in more detail</p>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 scrollpoint sp-effect2">
                    <div class="video-container">
                        <iframe src="http://player.vimeo.com/video/70984663"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section hidden id="getApp">
        <div class="container-fluid">
            <div class="section-heading inverse scrollpoint sp-effect3">
                <h1>Get App</h1>
                <div class="divider"></div>
                <p>Choose your native platform and get started!</p>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="hanging-phone scrollpoint sp-effect2 hidden-xs">
                        <img src="img/eco/eco-angled2.png" alt="">
                    </div>
                    <div class="platforms">
                        <a href="#" class="btn btn-primary inverse scrollpoint sp-effect1">
                            <i class="fa fa-android fa-3x pull-left"></i>
                            <span>Download for</span><br>
                            <b>Android</b>
                        </a>

                        <a href="#" class="btn btn-primary inverse scrollpoint sp-effect2">
                            <i class="fa fa-apple fa-3x pull-left"></i>
                            <span>Download for</span><br>
                            <b>Apple IOS</b>
                        </a>
                    </div>

                </div>
            </div>


        </div>
    </section>

    <section id="support" class="doublediagonal">
        <div class="container">
            <div class="section-heading scrollpoint sp-effect3">
                <h1>Contact</h1>
                <div class="divider"></div>
                <p>For more info and support, contact us!</p>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-8 col-sm-8 scrollpoint sp-effect1">
                            <form role="form">
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Your name">
                                </div>
                                <div class="form-group">
                                    <input type="email" class="form-control" placeholder="Your email">
                                </div>
                                <div class="form-group">
                                    <textarea cols="30" rows="10" class="form-control"
                                              placeholder="Your message"></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary btn-lg">Submit</button>
                            </form>
                        </div>
                        <div class="col-md-4 col-sm-4 contact-details scrollpoint sp-effect2">
                            <div class="media">
                                <a class="pull-left" href="#">
                                    <i class="fa fa-map-marker fa-2x"></i>
                                </a>
                                <div class="media-body">
                                    <h4 class="media-heading">81 A, Church Road, Hendon London, UK</h4>
                                </div>
                            </div>
                            <div class="media">
                                <a class="pull-left" href="#">
                                    <i class="fa fa-envelope fa-2x"></i>
                                </a>
                                <div class="media-body">
                                    <h4 class="media-heading">
                                        <a href="mailto:support@oleose.com">support@oleose.com</a>
                                    </h4>
                                </div>
                            </div>
                            <div class="media">
                                <a class="pull-left" href="#">
                                    <i class="fa fa-phone fa-2x"></i>
                                </a>
                                <div class="media-body">
                                    <h4 class="media-heading">+1 234 567890</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <a href="#" class="scrollpoint sp-effect3">
                <img src="img/logo.png" alt="" class="logo">
            </a>
            <div class="social">
                <a href="#" class="scrollpoint sp-effect3"><i class="fa fa-twitter fa-lg"></i></a>
                <a href="#" class="scrollpoint sp-effect3"><i class="fa fa-google-plus fa-lg"></i></a>
                <a href="#" class="scrollpoint sp-effect3"><i class="fa fa-facebook fa-lg"></i></a>
            </div>
            <div class="rights">
                <p>Copyright &copy; 2017</p>
            </div>
        </div>
    </footer>
</div>
<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/slick.min.js"></script>
<script src="js/placeholdem.min.js"></script>
<script src="js/rs-plugin/js/jquery.themepunch.plugins.min.js"></script>
<script src="js/rs-plugin/js/jquery.themepunch.revolution.min.js"></script>
<script src="js/waypoints.min.js"></script>
<script src="js/scripts.js"></script>
<script>
    $(document).ready(function () {
        appMaster.preLoader();
    });
</script>
<script src="//d3js.org/d3.v4.min.js"></script>

<script>
	var width = 960,
			height = 600;

	var svg = d3.select("svg")
			.attr("width", width)
			.attr("height", height);

	// Define the div for the tooltip
	var div = d3.select("body").append("div")
			.attr("class", "tooltip")
			.style("opacity", 0);

	var tooltip = d3.select("body")
			.append("div")
			.style("position", "absolute")
			.style("z-index", "10")
			.style("visibility", "hidden")
			.style("color", "white")
			.style("padding", "8px")
			.style("background-color", "rgba(0, 0, 0, 0.75)")
			.style("border-radius", "6px")
			.style("font", "12px sans-serif")
			.text("tooltip");


	svg.append("text")
			.attr("x", 100)
			.attr("y", -10)
			.attr("dy", "3.5em")
			.attr("text-anchor", "start")
			.style("font-size", "28px")
			.style("font-weight", "bold");
	//            .text("States Mineral Resources Production");

	var pack = d3.pack()
			.size([width - 150, height])
			.padding(1.5);

	var defaultData = [],
			titles = [];

	d3.queue()
			.defer(d3.csv, "data/mineralData.csv")
			.await(ready);

	function ready(error, data) {
		if (error) throw error;

		var keys = data.map(function (d) {
			console.log(d)
			return Object.keys(d)
		});
		var cleanArray = keys[0].splice(1, (keys[0].length));

		function updateMineral(min_id) {
			//clean Data
			data.forEach(function (d) {
				var str = d[min_id];
				str = str.replace(/[^\d\.\-]/g, "");

				//value for bubble chart
				d.value = +str;

				// states title
				d.Call_Type = d["State"];

				//total values across states for a specific

				var total = d.TOTAL;
				total = total.replace(/[^\d\.\-]/g, "");

				d.TOTAL = total;


//                console.log(total)

				return d;
			});

			//draw burbles
			var color = d3.scaleOrdinal()
					.domain(data.map(function (d) {
						return d.Call_Type;
					}))
					.range(['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6',
						'#ffe9a8', '#b9bfe3', '#fddaec', '#cccccc']);

			var root = d3.hierarchy({children: data})
					.sum(function (d) {
						return d.value;
					});

			// transition
			var t = d3.transition()
					.duration(750);

			pack(root);
			d3.selectAll(".node").remove();


			var node = svg.selectAll(".node")
					.data(pack(root).leaves())
					.enter().append("g")
					.attr("class", "node")
					.attr("transform", function (d) {
						return "translate(" + d.x + "," + d.y + ")";
					});

			//update circle
			var circle = node.append("circle")
					.attr("id", function (d) {
						return d.id;
					}).on("mouseover", function (d) {
						tooltip.html(d.data.Call_Type + "<br>" + d.data.value + " TONS");
						tooltip.style("visibility", "visible");
					})
					.on("mousemove", function () {
						return tooltip.style("top", (d3.event.pageY - 10) + "px")
								.style("left", (d3.event.pageX + 10) + "px");
					})
					.on("mouseout", function () {
						return tooltip.style("visibility", "hidden");
					});

			circle.transition(t)
					.attr("r", function (d) {
						return d.r;
					})
					.style("fill", function (d) {
						return color(d.data.Call_Type);
					});

			//exit
			circle.exit()
					.transition(t)
					.attr("opacity", 1e-6)
					.remove();


			var text = node.append("text")
					.attr("class", "bubble-label")
					.html(function (d) {
						if (d.data.value > 0 || d.data.Call_Type == "Other" || d.data.Call_Type == "Fire") {
							return d.data.Call_Type;
						}
						return "";
					})
					.attr("opacity", 1)
					.transition(t);


		}

		//update on change select
		d3.select("#selectCity")
				.style("top", height - ( height - 100 ) + "px")
				.style("left", width - 80 + "px")
				.style("position", "absolute")
				.attr("size", 10)
				.on("change", function () {
//					console.log('"' + d3.select(this).property("value") + '"');
					updateMineral(d3.select(this).property("value"))
				})
				.selectAll("option")
				.data(cleanArray)
				.enter()
				.append("option")
				.text(function (d) {
					return d;
				})
				.attr("value", function (d) {
					return d;
				});

		updateMineral("Limestone");

	}

</script>

</body>

</html>
